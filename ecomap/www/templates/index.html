<!DOCTYPE html>
<html lang="en" ng-app="app">
<head>
  <title>ecomap</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.7/angular.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/0.14.3/ui-bootstrap-tpls.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.15/angular-route.min.js" type="text/javascript"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.1/angular-cookies.js" type="text/javascript"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.0/angular-messages.js"></script>
  <script src="/js/angular_app.js"></script>
  <script src="/js/controllers/UserManagementCtrl.js"></script>
  <script src="/js/controllers/DatepickerDemoCtrl.js"></script>
  <script src="/js/directives/ModalWindow.js"></script>
  <script src="/js/directives/ValidatorsDirective.js"></script>
   <link rel="stylesheet" type="text/css" href="/css/custom.css">
</head>
<body >

<nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="#"><img src="/image/logo.png"></a>
    </div>
    <div class="collapse navbar-collapse" >
      <ul class="nav navbar-nav">
        <li id="inform_probl_btn"><a href="#">повідомити про проблему</a></li>
        <li class="dropdown">
          <a class="dropdown-toggle"  data-toggle="dropdown" href="#">ресурси <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="#">first</a></li>
            <li><a href="#">second</a></li>
            <li><a href="#">third</a></li>
          </ul>
        </li>
        <li><a href="#">статистика</a></li>
        <li><a href="">термінове повідомлення</a></li>
      </ul>

      <ul class="nav navbar-nav navbar-right" ng-controller="UserManagementCtrl">
        <li id="loginField" ng-hide="checkLogined()">
          <a href="" ng-click="toggleLoginModal()" >Увійти</a>

          <modal title="Увійти" visible="showLoginModal">
            <form role="form" name="loginForm" ng-submit="Login()" novalidate>

              <div class="form-group" ng-class="{ 'has-error': loginForm.email.$touched && loginForm.email.$invalid || getInvalidPasswordEmail() }">
                <label for="email" class="control-label">Електронна адреса</label>
                <input type="email"  ng-model="user.email"  name="email" ng-maxlength="100" ng-change="changeInvalidPasswordEmail()" class="form-control" id="email" placeholder="Електронна адреса" required/>
                <div class="help-block" ng-messages="loginForm.email.$error" ng-show="loginForm.email.$touched">
                  <p ng-message="maxlength">Занадто довга електронна пошта!</p>
                  <p ng-message="required">Необхідно ввести електронну пошту!</p>
                  <p ng-message="email">Некоректна електронна пошта!</p>
                </div>
              </div>

              <div class="form-group" ng-class="{ 'has-error': (loginForm.password.$touched && loginForm.password.$invalid) || getInvalidPasswordEmail() }">
                <label for="password" class="control-label">Пароль</label>
                <input type="password" name="password" ng-model="user.password" ng-minlength="6" ng-change="changeInvalidPasswordEmail()" class="form-control" id="password" placeholder="Пароль" required/>
                <div class="help-block" ng-messages="loginForm.password.$error" ng-show="loginForm.password.$touched">
                  <p ng-message="minlength">Пароль не може бути коротшим, ніж 6 символів!</p>
                  <p ng-message="required">Необхідно ввести пароль!</p>
                </div>
                <div class="help-block">
                  <p ng-show="getInvalidPasswordEmail()">Невірна електронна пошта чи пароль!</p>
                </div>
              </div>

              <br>
              <button type="submit" class="btn btn-primary">Увійти</button>
            </form>
          </modal>
        </li>

        <li ng-show="checkLogined()">
          <a href="" ng-bind="checkLogined()" ></a>
        </li>

        <li ng-show="checkLogined()">
          <a href="" ng-click="Logout()">Вихід</a>
        </li>

        <li ng-hide="checkLogined()">
          <a href="" ng-click="toggleRegisterModal()">Реєстрація</a>

          <modal title="Реєстрація" visible="showRegisterModal">
            <form role="form" ng-submit="Register()" name="registerForm" novalidate>

              <div class="form-group" ng-class="{ 'has-error': registerForm.email.$touched && registerForm.email.$invalid }">
                <label for="email" class="control-label">Електронна адреса</label>
                <input type="email"  ng-model="newUser.email" name="email" ng-maxlength="100" ng-change="checkIfExists()" class="form-control" id="email" placeholder="Електронна адреса" required available-email/>
                <div class="help-block" ng-messages="registerForm.email.$error" ng-show="registerForm.email.$touched">
                  <p ng-message="maxlength">Занадто довга електронна пошта!</p>
                  <p ng-message="required">Необхідно ввести електронну пошту!</p>
                  <p ng-message="email">Некоректна електронна пошта!</p>
                  <p ng-message="availableEmail">Користувач із такою електронною поштою вже зареєстрований!</p>
                </div>
              </div>

              <div class="form-group" ng-class="{ 'has-error': registerForm.name.$touched && registerForm.name.$invalid }">
                <label for="name" class="control-label">Ім'я</label>
                <input type="text"  ng-model="newUser.firstName" name="name" ng-maxlength="100" class="form-control" id="name" placeholder="Ім'я" data-error="Необхідно ввести ім'я!" required/>
                <div class="help-block" ng-messages="registerForm.name.$error" ng-show="registerForm.name.$touched">
                  <p ng-message="maxlength">Занадто довге ім'я!</p>
                  <p ng-message="required">Необхідно ввести ім'я!</p>
                </div>
              </div>

              <div class="form-group" ng-class="{ 'has-error': registerForm.surname.$touched && registerForm.surname.$invalid }">
                <label for="surname" class="control-label">Прізвище</label>
                <input type="text"  ng-model="newUser.lastName" name="surname" ng-maxlength="100" class="form-control" id="surname" placeholder="Прізвище" data-error="Необхідно ввести прізвище!" required/>
                <div class="help-block" ng-messages="registerForm.surname.$error" ng-show="registerForm.surname.$touched">
                  <p ng-message="maxlength">Занадто довге прізвище!</p>
                  <p ng-message="required">Необхідно ввести прізвище!</p>
                </div>
              </div>

              <div class="form-group">
                <label for="password" class="control-label">Пароль</label>
                <div class="form-group" ng-class="{ 'has-error': registerForm.password.$touched && registerForm.password.$invalid }">
                  <input type="password" ng-model="newUser.password" name="password" ng-minlength="6" ng-maxlength="40" class="form-control" id="password" placeholder="Пароль" required/>
                  <div class="help-block" ng-messages="registerForm.password.$error" ng-show="registerForm.password.$touched">
                    <p ng-message="maxlength">Занадто довгий пароль!</p>
                    <p ng-message="required">Необхідно ввести пароль!</p>
                    <p ng-message="minlength">Занадто короткий пароль!</p>
                  </div>
                </div>

                <div class="form-group" ng-class="{ 'has-error': registerForm.pass_confirm.$touched && registerForm.pass_confirm.$invalid }">
                  <input type="password" ng-model="newUser.pass_confirm" name="pass_confirm" class="form-control" id="pass_confirm" placeholder="Підтвердіть пароль" data-match-error="#password" required compare-to="newUser.password"/>
                  <div class="help-block" ng-messages="registerForm.pass_confirm.$error" ng-show="registerForm.pass_confirm.$touched">
                    <p ng-message="compareTo">Паролі не співпадають!</p>
                    <p ng-message="required">Необхідно підтвердити пароль!</p>
                  </div>              
                </div>                
              </div>

              <br>
              <button type="submit" class="btn btn-primary">Зареєструвати</button>
            </form>
          </modal>
        </li>
      </ul>
    </div>
  </div>
</nav> 

<div class="row">
  <div class="col-md-3" id="filter" class="problem_filter" showform="True">
    <div ng-controller="DatepickerDemoCtrl">

      <h4>ФІЛЬТРАЦІЯ ЗА ДАТОЮ</h4>

      <div class="row">
      
          <div class="col-md-10 col-md-offset-1">
              <p class="input-group">
                <input type="text" class="form-control" uib-datepicker-popup="{{format}}" ng-model="dt" is-open="status.opened1" min-date="minDate" max-date="maxDate" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" />
                <span class="input-group-btn">
                  <button type="button" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                </span>
              </p>
          </div>

          <div class="col-md-10 col-md-offset-1">
              <p class="input-group">
                <input type="date" class="form-control" uib-datepicker-popup ng-model="dt" is-open="status.opened2" min-date="minDate" max-date="maxDate" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" />
                <span class="input-group-btn">
                  <button type="button" class="btn btn-default" ng-click="open2($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                </span>
              </p>
          </div>

      </div>

    </div>
      <div class="toogle" id="toggle">фільтрація</div>
      <h4>Тип проблеми</h4>
      <div class="col-md-12">
        <ul class="list-group">
          <li class="list-group-item">First item</li>
          <li class="list-group-item">Second item</li>
          <li class="list-group-item">Third item</li>
        </ul>
      </div>
      <div class="col-md-12">
      <h4>Статус проблеми</h4>
        <ul class="list-group">
          <li class="list-group-item">First item</li>
          <li class="list-group-item">Second item</li>
          <li class="list-group-item">Third item</li>
        </ul>
      </div>
  </div>
</div>

<div class="row">
  <div class="col-md-6 col-md-offset-6 inform_probl_block" showform="True">
  <h2>Повідомити про проблему</h2>

    <ul class="nav nav-tabs nav-justified">
        <li class="active"><a href="#">Точка</a></li>
        <li><a href="#">Опис</a></li>
        <li><a href="#">Фото</a></li>
    </ul>

  </div>
</div>

</body>
</html>
